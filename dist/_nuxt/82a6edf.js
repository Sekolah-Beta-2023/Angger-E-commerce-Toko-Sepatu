(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{471:function(t,e,n){"use strict";n.r(e);n(21),n(53),n(37),n(11);var r=n(3),o=(n(38),n(243),n(31),n(93)),l=n.n(o),c={data:function(){return{dataAlamat:null,provinsi:[],kota:[],kecamatan:[],kodePos:[],alamat:{name:"",noTelp:"",provinsi:"",kota:"",kecamatan:"",kodePos:"",detail:""},updateAlamat:{name:"",noTelp:"",provinsi:"",kota:"",kecamatan:"",kodePos:"",detail:""},showNameKota:""}},computed:{},created:function(){this.getDataAlamat(),this.getDataProvinsi()},methods:{getDataProvinsi:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/provinces.json");case 2:n=e.sent,t.provinsi=n.data;case 4:case"end":return e.stop()}}),e)})))()},getDataKota:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/regencies/".concat(t.alamat.provinsi.id,".json"));case 2:n=e.sent,t.kota=n.data;case 4:case"end":return e.stop()}}),e)})))()},getKecamatan:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/districts/".concat(t.alamat.kota.id,".json"));case 2:n=e.sent,t.kecamatan=n.data;case 4:case"end":return e.stop()}}),e)})))()},getDataAlamat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$supabase.from("address").select("*");case 3:if(n=e.sent,data=n.data,r=n.error,data?(t.dataAlamat=data,t.dataAlamat.map((function(t){return t.provinsi=JSON.parse(t.provinsi),t.kota=JSON.parse(t.kota),t.kecamatan=JSON.parse(t.kecamatan),t.kodePos=JSON.parse(t.kodePos)}))):t.dataAlamat=[],!r){e.next=9;break}throw r;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))()},addAlamat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$supabase.from("address").insert([t.alamat]);case 3:if(n=e.sent,data=n.data,r=n.error,t.$notify({group:"notifAlamat",type:"success",text:"Succes Add Alamat."}),t.dataAlamat=data,t.getDataAlamat(),!r){e.next=11;break}throw r;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:t.closeModal();case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},deleteAlamat:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=localStorage.getItem("userAlamatId"),Number(t)===Number(r)&&localStorage.removeItem("userAlamatId"),n.prev=1,n.next=4,e.$supabase.from("address").delete().eq("id",t);case 4:if(o=n.sent,!(l=o.error)){n.next=8;break}throw l;case 8:e.$notify({group:"notifAlamat",type:"success",text:"Succes delete Alamat."}),e.getDataAlamat(),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:case"end":return n.stop()}}),n,null,[[1,12]])})))()},getUpdateKota:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/regencies/".concat(t.updateAlamat.provinsi.id,".json"));case 2:n=e.sent,t.kota=n.data;case 4:case"end":return e.stop()}}),e)})))()},getUpdateKecamatan:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/districts/".concat(t.updateAlamat.kota.id,".json"));case 2:n=e.sent,t.kecamatan=n.data;case 4:case"end":return e.stop()}}),e)})))()},editAlamat:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data,o,c,m,d,v,f,h,_,w,k;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$supabase.from("address").select().eq("id",t).single();case 3:if(r=n.sent,data=r.data,o=r.error,e.$refs.dialogEditAlamat.showModal(),!o){n.next=9;break}throw o;case 9:return e.updateAlamat=data,c=JSON.parse(e.updateAlamat.provinsi),n.next=13,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/province/".concat(c.id,".json"));case 13:return m=n.sent,n.next=16,m.data;case 16:return d=n.sent,e.updateAlamat.provinsi=d,v=JSON.parse(e.updateAlamat.kota),n.next=21,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/regency/".concat(v.id,".json"));case 21:return f=n.sent,n.next=24,f.data;case 24:return h=n.sent,e.updateAlamat.kota=h,e.showNameKota=h.name,e.getUpdateKota(),_=JSON.parse(e.updateAlamat.kecamatan),n.next=31,l.a.get("https://anggernuramin.github.io/api-wilayah-indonesia/api/district/".concat(_.id,".json"));case 31:return w=n.sent,e.getUpdateKecamatan(),n.next=35,w.data;case 35:k=n.sent,e.updateAlamat.kecamatan=k,e.updateAlamat.kodePos=k,n.next=42;break;case 40:n.prev=40,n.t0=n.catch(0);case 42:case"end":return n.stop()}}),n,null,[[0,40]])})))()},submitEditAlamat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$supabase.from("address").update(t.updateAlamat).eq("id",t.updateAlamat.id);case 3:if(n=e.sent,!(r=n.error)){e.next=7;break}throw r;case 7:t.$refs.dialogEditAlamat.close(),t.getDataAlamat(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:t.updateAlamat={name:"",noTelp:"",provinsi:"",kota:"",kecamatan:"",kodePos:"",detail:""};case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},saveIdAlamat:function(t){localStorage.setItem("userAlamatId",t)},closeModal:function(){this.$refs.dialogAddAlamat.close(),this.alamat={name:"",noTelp:"",provinsi:"",kota:"",kecamatan:"",kodePos:"",detail:""}}}},m=n(17),component=Object(m.a)(c,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"bg-secondary",attrs:{id:"alamat"}},[e("div",{staticClass:"container w-[70%] pt-[130px] min-h-screen"},[e("div",{staticClass:"wrapper-profile text-slate-900 bg-white p-5 mb-5"},[t._m(0),t._v(" "),e("div",{staticClass:"deskripsi-alamat flex flex-col justify-center items-start my-5 gap-2 w-full"},[t._l(t.dataAlamat,(function(n,r){return e("div",{key:r,staticClass:"w-[100%]"},[e("div",{staticClass:"w-[100%] bg-slate-100 border-btnColor flex justify-between items-center p-5 gap-2"},[e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex gap-1"},[e("h4",{staticClass:"border-e-2 pe-3 border-red-600"},[t._v("\n                  "+t._s(n.name)+"\n                ")]),t._v(" "),e("span",{staticClass:"ps-3"},[t._v(t._s(n.noTelp))])]),t._v(" "),e("p",{staticClass:"tex-slate-600"},[t._v(t._s(n.detail))]),t._v(" "),e("p",[t._v("\n                "+t._s(n.kecamatan.name)+" "+t._s(n.kota.name)+"\n                "+t._s(n.provinsi.name)+"\n                "+t._s(n.kodePos.regency_id)+"\n              ")])]),t._v(" "),e("div",{staticClass:"flex justify-center items-center flex-col gap-2"},[e("div",{staticClass:"flex gap-3"},[e("button",{staticClass:"bg-btnColor px-5 py-1 rounded-sm hover:bg-warning transition",on:{click:function(e){return t.editAlamat(n.id)}}},[t._v("\n                  Ubah "),e("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" "),e("button",{staticClass:"bg-error px-5 py-1 rounded-sm hover:bg-red-500 transition",on:{click:function(e){return t.deleteAlamat(n.id)}}},[t._v("\n                  Hapus "),e("i",{staticClass:"fas fa-trash"})])]),t._v(" "),e("button",{staticClass:"hover:text-green-600 transition",on:{click:function(e){return t.saveIdAlamat(n.id)}}},[t._v("\n                Atur Sebagai Alamat Utama\n              ")])])])])})),t._v(" "),t._m(1)],2),t._v(" "),e("dialog",{ref:"dialogAddAlamat",staticClass:"modal",attrs:{id:"addAlamat"}},[e("div",{staticClass:"modal-box bg-white"},[e("h3",{staticClass:"font-bold text-2xl"},[t._v("Masukkan Alamat")]),t._v(" "),e("div",{staticClass:"relative"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.addAlamat.apply(null,arguments)}}},[e("div",{staticClass:"flex items-center flex-col gap-4"},[e("div",{staticClass:"mt-4 flex justify-between items-center w-full gap-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.alamat.name,expression:"alamat.name"}],staticClass:"input input-bordered input-sm w-[50%] bg-white rounded-sm",attrs:{id:"userName",name:"userName",type:"text",placeholder:"Nama Lengkap",required:""},domProps:{value:t.alamat.name},on:{input:function(e){e.target.composing||t.$set(t.alamat,"name",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alamat.noTelp,expression:"alamat.noTelp"}],staticClass:"input input-bordered input-sm w-[50%] bg-white rounded-sm",attrs:{id:"noTelp",name:"noTelp",type:"tel",placeholder:"No. Telepon",required:""},domProps:{value:t.alamat.noTelp},on:{input:function(e){e.target.composing||t.$set(t.alamat,"noTelp",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-between items-center w-full gap-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.alamat.provinsi,expression:"alamat.provinsi"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"provinsi",name:"provinsi",required:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.alamat,"provinsi",e.target.multiple?n:n[0])},function(e){return t.getDataKota()}]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Provinsi")]),t._v(" "),t._l(t.provinsi,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])}))],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.alamat.kota,expression:"alamat.kota"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kota",name:"kota",required:""},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.alamat,"kota",e.target.multiple?n:n[0])},function(e){return t.getKecamatan()}]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Kota / Kabupaten")]),t._v(" "),t._l(t.kota,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])}))],2)]),t._v(" "),e("div",{staticClass:"flex justify-between items-center w-full gap-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.alamat.kecamatan,expression:"alamat.kecamatan"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kecamatan",name:"kecamatan",required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.alamat,"kecamatan",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Kecamatan")]),t._v(" "),t._l(t.kecamatan,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])}))],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.alamat.kodePos,expression:"alamat.kodePos"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kodepos",name:"kodepos",required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.alamat,"kodePos",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Kode Pos")]),t._v(" "),t._l(t.kecamatan,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.id)+"\n                    ")])}))],2)]),t._v(" "),e("div",{staticClass:"form-control w-full mb-14"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.alamat.detail,expression:"alamat.detail"}],attrs:{name:"",placeholder:"Nama Jalan, Gedung, No.Rumah",cols:"30",rows:"10",required:""},domProps:{value:t.alamat.detail},on:{input:function(e){e.target.composing||t.$set(t.alamat,"detail",e.target.value)}}})])]),t._v(" "),e("button",{staticClass:"text-white font-semibold hovert:text-white py-3 px-7 bg-btnColor hover:btn-warning rounded-md absolute right-0 bottom-0"},[t._v("\n                Ok\n              ")])]),t._v(" "),t._m(2)])])]),t._v(" "),e("dialog",{ref:"dialogEditAlamat",staticClass:"modal",attrs:{id:"editAlamat"}},[e("div",{staticClass:"modal-box bg-white"},[e("h3",{staticClass:"font-bold text-2xl"},[t._v("Edit Alamat")]),t._v(" "),e("div",{staticClass:"relative"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitEditAlamat.apply(null,arguments)}}},[e("div",{staticClass:"flex items-center flex-col gap-4"},[e("div",{staticClass:"mt-4 flex justify-between items-center w-full gap-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.name,expression:"updateAlamat.name"}],staticClass:"input input-bordered input-sm w-[50%] bg-white rounded-sm",attrs:{id:"userName",name:"userName",type:"text"},domProps:{value:t.updateAlamat.name},on:{input:function(e){e.target.composing||t.$set(t.updateAlamat,"name",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.noTelp,expression:"updateAlamat.noTelp"}],staticClass:"input input-bordered input-sm w-[50%] bg-white rounded-sm",attrs:{id:"noTelp",name:"noTelp",type:"tel",placeholder:"No. Telepon"},domProps:{value:t.updateAlamat.noTelp},on:{input:function(e){e.target.composing||t.$set(t.updateAlamat,"noTelp",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-between items-center w-full gap-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.provinsi,expression:"updateAlamat.provinsi"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"provinsi",name:"provinsi"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.updateAlamat,"provinsi",e.target.multiple?n:n[0])},function(e){return t.getUpdateKota()}]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Provinsi")]),t._v(" "),t._l(t.provinsi,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])}))],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.kota,expression:"updateAlamat.kota"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kota",name:"kota.Nama"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.updateAlamat,"kota",e.target.multiple?n:n[0])},function(e){return t.getUpdateKecamatan()}]}},t._l(t.kota,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])})),0)]),t._v(" "),e("div",{staticClass:"flex justify-between items-center w-full gap-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.kecamatan,expression:"updateAlamat.kecamatan"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kecamatan",name:"kecamatan"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.updateAlamat,"kecamatan",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Kecamatan")]),t._v(" "),t._l(t.kecamatan,(function(n){return e("option",{key:n.id,staticClass:"text-slate-900",domProps:{value:n}},[t._v("\n                      "+t._s(n.name)+"\n                    ")])}))],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.kodePos,expression:"updateAlamat.kodePos"}],staticClass:"bg-white w-[50%] p-2 border-2",attrs:{id:"kodepos",name:"kodepos"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.updateAlamat,"kodePos",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Kode Pos")]),t._v(" "),t._l(t.kecamatan,(function(n){return e("option",{key:n.id,domProps:{value:n}},[t._v("\n                      "+t._s(n.id)+"\n                    ")])}))],2)]),t._v(" "),e("div",{staticClass:"form-control w-full mb-14"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updateAlamat.detail,expression:"updateAlamat.detail"}],attrs:{name:"",placeholder:"Nama Jalan, Gedung, No.Rumah",cols:"30",rows:"10"},domProps:{value:t.updateAlamat.detail},on:{input:function(e){e.target.composing||t.$set(t.updateAlamat,"detail",e.target.value)}}})])]),t._v(" "),e("button",{staticClass:"text-white font-semibold hovert:text-white py-3 px-7 bg-btnColor hover:btn-warning rounded-md absolute right-0 bottom-0"},[t._v("\n                Simpan Edit\n              ")])]),t._v(" "),t._m(3)])])])]),t._v(" "),e("notifications",{staticClass:"mt-32 me-14",attrs:{group:"notifAlamat"}})],1)])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-profile"},[e("h2",{staticClass:"text-2xl font-semibold mb-2"},[t._v("Alamat Saya")]),t._v(" "),e("p",{staticClass:"pb-3 border-b-2"},[t._v("\n          Kelola alamat Anda untuk pengiriman barang.\n        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"flex justify-end items-end w-full"},[t("button",{staticClass:"bg-red-600 text-white flex justify-center items-center gap-2 py-3 px-5 font-semibold rounded-sm hover:shadow-sm hover:bg-red-700 transition cursor-pointer",attrs:{onclick:"addAlamat.showModal()"}},[this._v("\n            Tambah Alamat\n            "),t("i",{staticClass:"fas fa-plus"})])])},function(){var t=this._self._c;return t("form",{attrs:{method:"dialog"}},[t("button",{staticClass:"text-white font-semibold hovert:text-white py-3 px-6 rounded-md hover:bg-slate-600 bg-slate-500 absolute right-20 bottom-0"},[this._v("\n                Batal\n              ")])])},function(){var t=this._self._c;return t("form",{attrs:{method:"dialog"}},[t("button",{staticClass:"text-white font-semibold hovert:text-white py-3 px-6 rounded-md hover:bg-slate-600 bg-slate-500 absolute right-40 bottom-0"},[this._v("\n                Batal\n              ")])])}],!1,null,null,null);e.default=component.exports}}]);